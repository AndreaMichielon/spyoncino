# =============================================================================
# SPYONCINO CONFIGURATION
# =============================================================================
# AI-powered security system with motion detection and person recognition
# 
# This file contains general system settings, camera configuration,
# detection parameters, and storage options.
#
# For Telegram bot settings, see telegram.yaml
# For sensitive credentials, see secrets.yaml (never commit this file!)
# =============================================================================

# =============================================================================
# CAMERA SETTINGS
# =============================================================================
# Configure your camera input source and video parameters
camera:
  # Source identification
  usb_port: 0                    # Camera device index (0, 1, 2...) or video file path
  
  # Video resolution
  width: 1280                     # Camera width in pixels (e.g., 640, 1280, 1920)
  height: 720                     # Camera height in pixels (e.g., 480, 720, 1080)
  fps: 15                         # Frames per second for capture
  
  # Optional adjustments (null = use camera defaults)
  brightness: null                # Brightness level (camera-dependent range)
  contrast: null                  # Contrast level (camera-dependent range)

# =============================================================================
# DETECTION SETTINGS
# =============================================================================
# Configure motion detection and AI person recognition
detection:
  # Timing
  interval: 2.0                   # Seconds between detection checks (lower = more frequent)
  record_frames: 50               # Number of frames to capture per detection event
  
  # AI/YOLO settings
  confidence: 0.25                # AI confidence threshold (0.1-0.9, lower = more sensitive)
  max_batch_size: 32              # Maximum frames processed per YOLO batch (GPU memory)
  
  # Motion detection
  motion_threshold: 5             # Pixel change threshold for motion (1-100, lower = more sensitive)
  
  # Person tracking
  person_cooldown_seconds: 30.0   # Seconds to wait before re-detecting same person
  bbox_overlap_threshold: 0.6     # Bounding box overlap for same person (0.0-1.0)

# =============================================================================
# STORAGE SETTINGS
# =============================================================================
# Configure where and how long recordings are stored
storage:
  # Paths
  path: "recordings"              # Directory for recordings, GIFs, and logs
  
  # Retention policy
  retention_hours: 24             # Hours to keep recordings before auto-deletion
  aggressive_cleanup_hours: 12    # Hours to keep when disk space is low
  
  # Disk space management
  low_space_threshold_gb: 1.0     # Trigger aggressive cleanup below this free space (GB)

# =============================================================================
# NOTIFICATION SETTINGS
# =============================================================================
# Configure GIF generation and notification behavior
notifications:
  # GIF generation
  gif_for_motion: false           # Generate GIF for motion-only events (no person)
  gif_for_person: true            # Generate GIF for person detection events
  
  # GIF quality settings
  gif_duration: 3                 # Duration of GIF in seconds
  gif_fps: 15                     # FPS for internal GIF generation
  notification_gif_fps: 10        # FPS for Telegram GIF (lower = smaller file)
  max_gif_frames: 20              # Maximum frames per GIF
  max_file_size_mb: 50.0          # Maximum GIF file size for Telegram (MB)

# =============================================================================
# SYSTEM SETTINGS
# =============================================================================
# Configure logging, monitoring, and system behavior
system:
  # Monitoring
  check_interval: 5.0             # Seconds between system health checks
  
  # Logging
  log_level: "INFO"               # Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
  log_format: "%(asctime)s [%(levelname)8s] %(name)s: %(message)s"
  log_max_size_mb: 10             # Maximum log file size before rotation (MB)
  log_backup_count: 3             # Number of backup log files to keep

